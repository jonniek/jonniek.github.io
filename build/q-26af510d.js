import{I as i,e as u,A as l,N as n,M as e,z as o,_ as r}from"./q-94ebc968.js";import{S as t}from"./q-05f9ae1c.js";import{f as s}from"./q-57b76970.js";import{title as h}from"./q-753db76b.js";const m=()=>{const[a]=i();return a.showExample=!a.showExample},d=()=>{const a=u({showExample:!1});return l("article",null,null,[l("div",null,null,l("a",null,{href:"/"},"Home",3,null),3,null),l("h1",null,null,h,3,null),l("p",null,null,s(new Date("2022-10-20")),1,null),l("p",null,null,"I had a pretty boring image on my Github profile readme for a long time. I wanted to create some kind of introduction there. When I looked for some inspiration, many people had so much information there that it looked very noisy and messy. I wanted to keep it simple.",3,null),l("p",null,null,["I've been building this website for the past few weeks. That has included a lot of handwritten HTML. I got some inspiration from this great article"," ",l("a",null,{rel:"noopener",href:"https://secretgeek.github.io/html_wysiwyg/html.html"},"<h1>This page is a truly naked, brutalist html quine</h1>.",3,null)," ","I wanted a brutalist HTML introduction."],3,null),l("p",null,null,"The first version was simply a code block.",3,null),n(t,{language:"text",text:`\`\`\`html
<h1>Hi</h1>
<p>
  I'm Jonnie.
  I'm a software developer.
</p>
<a href="//jonniek.github.io">
  Read more...
</a>
\`\`\``,[e]:{language:e,text:e}},3,"AC_0"),l("p",null,null,"Resulting in:",3,null),n(t,{language:"html",text:`<h1>Hi</h1>
<p>
  I'm Jonnie.
  I'm a software developer.
</p>
<a href="//jonniek.github.io">
  Read more...
</a>`,[e]:{language:e,text:e}},3,"AC_1"),l("p",null,null,"This is nice, but I wanted the link to be clickable. It seems possible to add some links to code blocks, but it's very limited and changes the look. In order to get a link I changed the approach from markdown syntax to HTML.",3,null),l("p",null,null,"To make the HTML visible we need to use some entity codes.",3,null),l("ul",null,null,[l("li",null,null,[l("span",null,{class:"inline-code"},"&lt;",3,null)," renders as <"],3,null),l("li",null,null,[l("span",null,{class:"inline-code"},"&gt;",3,null)," renders as >"," "],3,null),l("li",null,null,[l("span",null,{class:"inline-code"},"&#160;",3,null)," renders as a space that can be used for indenting(not necessary now but will be useful later)"],3,null)],3,null),l("p",null,null,["So after converting the html tags, wrapping it in a"," ",l("span",null,{class:"inline-code"},"pre",3,null)," and adding a link we have this."],3,null),n(t,{language:"html",text:`<pre>
&lt;h1&gt;Hi&lt;/h1&gt;
&lt;p&gt;
  I'm Jonnie.
  I'm a software developer.
&lt;/p&gt;
&lt;a href="//jonniek.github.io"&gt;
  <a href="//jonniek.github.io">Read more...</a>
&lt;/a&gt;
</pre>`,[e]:{language:e,text:e}},3,"AC_2"),l("p",null,null,"Resulting in:",3,null),l("code",null,null,l("pre",null,null,[`<h1>Hi</h1> <p>   I'm Jonnie.   I'm a software developer. </p> <a href="//jonniek.github.io">`,l("a",null,{href:"//jonniek.github.io"},"  Read more...",3,null),"</a>"],3,null),3,null),l("p",null,null,"The link works exactly like I wanted, but the syntax highlighting disappeared. There is no easy way to add color to text, since Github strips style elements and attributes. The only way to color text in an arbitrary way is by using an SVG. A nice thing about SVG is that you can animate them quite easily. The downside is that it would probably not be possible to add a granular link. I think the color and some animation are cooler than a nice link.",3,null),l("p",null,null,"So let's take a look at a simple animated SVG text.",3,null),n(t,{language:"html",text:`<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="40px">
  <path id="example1">
    <animate
      attributeName="d"
      from="m0,25 h0"
      to="m0,25 h500"
      dur="6s"
      begin="0s"
      repeatCount="indefinite"
    />
  </path>
  <text font-size="16" font-family="monospace" fill='#333'>
    <textPath xlink:href="#example1">
      This text is animated in SVG
    </textPath>
  </text>
</svg>`,[e]:{language:e,text:e}},3,"AC_3"),l("p",null,null,"Resulting in:",3,null),l("div",null,null,l("svg",null,{xmlns:"http://www.w3.org/2000/svg",version:"1.1",height:"40px"},[l("path",null,{id:"example1"},l("animate",null,{attributeName:"d",from:"m0,25 h0",to:"m0,25 h500",dur:"6s",begin:"0s",repeatCount:"indefinite"},null,3,null),3,null),l("text",null,{"font-size":"16","font-family":"monospace",fill:"var(--primary-text-color, #333)"},l("textPath",null,{"xlink:href":"#example1"},"This text is animated in SVG",3,null),3,null)],3,null),3,null),l("p",null,null,"To not annoy you by endless animations, here on out the example animations will only play when you click them. I'm also removing the animation repeating, so just click them again to replay if you want to.",3,null),l("p",null,null,"Let's add a background so you can see where to click. To create a background for the text let's use a <rect> element. The rx and ry can be used to make the corners rounded.",3,null),n(t,{language:"html",text:'<rect fill="#eaeaea" rx="6" ry="6" />',[e]:{language:e,text:e}},3,"AC_4"),l("p",null,null,[l("svg",{style:{display:"inline",verticalAlign:"middle",cursor:"pointer"}},{xmlns:"http://www.w3.org/2000/svg",version:"1.1",height:"50px"},[l("rect",null,{id:"startanim5",height:"40px",width:"100%",fill:"var(--secondary-background-color, #eaeaea)",rx:"6",ry:"6"},null,3,null),l("path",null,{id:"example5"},l("animate",null,{attributeName:"d",from:"m0,25 h0",to:"m0,25 h500",dur:"6s",begin:"startanim5.click",fill:"freeze"},null,3,null),3,null),l("text",null,{"font-size":"16","font-family":"monospace",fill:"var(--primary-text-color, #333)"},l("textPath",null,{"xlink:href":"#example5"},"Hello world",3,null),3,null)],3,null),l("span",null,null," <- Click me to run",3,null)],1,null),l("p",null,null,["To add some padding to the text we need to understand the"," ",l("span",null,{class:"inline-code"},"from",3,null)," and"," ",l("span",null,{class:"inline-code"},"to",3,null)," attribute paths of the animation. The first two parameters after ",l("span",null,{class:"inline-code"},"m",3,null)," are the x and y coordinates. The ",l("span",null,{class:"inline-code"},"h0",3,null)," to"," ",l("span",null,{class:"inline-code"},"h500",3,null)," determine the width of the animation, it should be at least as wide as the text to avoid clipping. If it's longer than the width of the text, then the animation keeps on playing with no changes, this makes the duration visibly inaccurate."],3,null),l("p",null,null,["Anyway let's change all the ",l("span",null,{class:"inline-code"},"m0",3,null)," to"," ",l("span",null,{class:"inline-code"},"m16",3,null)," instead to add some padding on the x axis."],3,null),l("p",null,null,l("svg",{style:{cursor:"pointer"}},{xmlns:"http://www.w3.org/2000/svg",version:"1.1",height:"50px"},[l("rect",null,{id:"startanim6",height:"40px",width:"100%",fill:"var(--secondary-background-color, #eaeaea)",rx:"6",ry:"6"},null,3,null),l("path",null,{id:"example6"},l("animate",null,{attributeName:"d",from:"m16,25 h0",to:"m16,25 h500",dur:"6s",begin:"startanim6.click",fill:"freeze"},null,3,null),3,null),l("text",null,{"font-size":"16","font-family":"monospace",fill:"var(--primary-text-color, #333)"},l("textPath",null,{"xlink:href":"#example6"},"Hello world",3,null),3,null)],3,null),1,null),l("p",null,null,"Next to add HTML syntax is quite straight forward. Same formatting as earlier.",3,null),n(t,{language:"html",text:"<textPath>&lt;h1&gt;Hello world&lt;/h1&gt;</textPath>",[e]:{language:e,text:e}},3,"AC_5"),l("p",null,null,l("svg",{style:{cursor:"pointer"}},{xmlns:"http://www.w3.org/2000/svg",version:"1.1",height:"50px"},[l("rect",null,{id:"startanim3",height:"40px",width:"100%",fill:"var(--secondary-background-color, #eaeaea)",rx:"6",ry:"6"},null,3,null),l("path",null,{id:"example3"},l("animate",null,{attributeName:"d",from:"m16,25 h0",to:"m16,25 h500",dur:"6s",begin:"startanim3.click",fill:"freeze"},null,3,null),3,null),l("text",null,{"font-size":"16","font-family":"monospace",fill:"var(--primary-text-color, #333)"},l("textPath",null,{"xlink:href":"#example3"},"<h1>Hello world</h1>",3,null),3,null)],3,null),1,null),l("p",null,null,"To add color for the syntax wrap the tokens in a <tspan> element with a fill attribute.",3,null),n(t,{language:"html",text:`<textPath>
  &lt;<tspan fill="red">h1</tspan>&gt;Hello world&lt;/<tspan fill="red">h1</tspan>&gt;
</textPath>`,[e]:{language:e,text:e}},3,"AC_6"),l("p",null,null,l("svg",{style:{cursor:"pointer"}},{xmlns:"http://www.w3.org/2000/svg",version:"1.1",height:"50px"},[l("rect",null,{id:"startanim4",height:"40px",width:"100%",fill:"var(--secondary-background-color, #eaeaea)",rx:"6",ry:"6"},null,3,null),l("path",null,{id:"example4"},l("animate",null,{attributeName:"d",from:"m16,25 h0",to:"m16,25 h500",dur:"6s",begin:"startanim4.click",fill:"freeze"},null,3,null),3,null),l("text",null,{"font-size":"16","font-family":"monospace",fill:"var(--primary-text-color, #333)"},l("textPath",null,{"xlink:href":"#example4"},["<",l("tspan",null,{fill:"red"},"h1",3,null),">Hello world</",l("tspan",null,{fill:"red"},"h1",3,null),">"],3,null),3,null)],3,null),1,null),l("p",null,null,"To create the effect of typing on multiple lines, we just need another animation path and text element. Remember to increase the y coordinate in the animation paths to make the second line below the first.",3,null),l("p",null,null,l("svg",{style:{cursor:"pointer"}},{xmlns:"http://www.w3.org/2000/svg",version:"1.1",height:"60px",width:"300px"},[l("rect",null,{id:"startanim2",height:"60px",width:"100%",fill:"var(--secondary-background-color, #eaeaea)",rx:"6",ry:"6"},null,3,null),l("path",null,{id:"example2-line1"},l("animate",null,{fill:"freeze",attributeName:"d",from:"m15,25 h0",to:"m15,25 h500",dur:"6s",begin:"startanim2.click"},null,3,null),3,null),l("text",null,{"font-size":"16","font-family":"monospace",fill:"var(--primary-text-color, #333)"},l("textPath",null,{"xlink:href":"#example2-line1"},["<",l("tspan",null,{fill:"red"},"h1",3,null),">The first line</",l("tspan",null,{fill:"red"},"h1",3,null),">"],3,null),3,null),l("path",null,{id:"example2-line2"},l("animate",null,{fill:"freeze",attributeName:"d",from:"m15,50 h0",to:"m15,50 h500",dur:"6s",begin:"startanim2.click"},null,3,null),3,null),l("text",null,{"font-size":"16","font-family":"monospace",fill:"var(--primary-text-color, #333)"},l("textPath",null,{"xlink:href":"#example2-line2"},["<",l("tspan",null,{fill:"red"},"h2",3,null),">The second line</",l("tspan",null,{fill:"red"},"h2",3,null),">"],3,null),3,null)],3,null),1,null),l("p",null,null,"In order to run animations sequentially we have to do two things.",3,null),l("ol",null,null,[l("li",null,null,["Add ",l("span",null,{class:"inline-code"},'fill="freeze"',3,null)," to the animate element"],3,null),l("li",null,null,["Remove ",l("span",null,{class:"inline-code"},'repeatCount="indefinite"',3,null)," from the animate element"],3,null)],3,null),l("p",null,null,"This will give us full control over when the animation runs with the begin attribute. The freeze will also keep the text visible once the animation has completed.",3,null),l("p",null,null,["We could manually calculate and adjust the starts to be sequential. However, imagine if we have 10 lines and want to change the duration of the first line. We would have to recalculate and change all timings. Luckily you can simply do"," ",l("span",null,{class:"inline-code"},'begin="id1.end+0.1s"',3,null),". This will start the animation 0.1 seconds after the end of animation which has an element id of ",l("span",null,{class:"inline-code"},"id1",3,null),". You can also use"," ",l("span",null,{class:"inline-code"},"ms",3,null)," instead of seconds if you wish."],3,null),l("p",null,null,l("svg",{style:{cursor:"pointer"}},{xmlns:"http://www.w3.org/2000/svg",version:"1.1",height:"60px",width:"300px"},[l("rect",null,{id:"startanim9",height:"60px",width:"100%",fill:"var(--secondary-background-color, #eaeaea)",rx:"6",ry:"6"},null,3,null),l("path",null,{id:"example9-line1"},l("animate",null,{id:"example9line1anim",fill:"freeze",attributeName:"d",from:"m15,25 h0",to:"m15,25 h186",dur:"1.9s",begin:"startanim9.click"},null,3,null),3,null),l("text",null,{"font-size":"16","font-family":"monospace",fill:"var(--primary-text-color, #333)"},l("textPath",null,{"xlink:href":"#example9-line1"},["<",l("tspan",null,{fill:"red"},"h1",3,null),">Short line</",l("tspan",null,{fill:"red"},"h1",3,null),">"],3,null),3,null),l("path",null,{id:"example9-line2"},l("animate",null,{fill:"freeze",attributeName:"d",from:"m15,50 h0",to:"m15,50 h235",dur:"2.4s",begin:"example9line1anim.end+0.1s"},null,3,null),3,null),l("text",null,{"font-size":"16","font-family":"monospace",fill:"var(--primary-text-color, #333)"},l("textPath",null,{"xlink:href":"#example9-line2"},["<",l("tspan",null,{fill:"red"},"h2",3,null),">The second line</",l("tspan",null,{fill:"red"},"h2",3,null),">"],3,null),3,null)],3,null),1,null),l("p",null,null,"The animation width also has to be adjusted to match the width of the actual line. This will help keep the speed constant. For example the above animation.",3,null),l("ul",null,null,[l("li",null,null,"The first line is 19 characters and 186 pixels",3,null),l("li",null,null,"The second line is 24 characters and 235 pixels",3,null)],3,null),l("p",null,null,"The result is the following animate elements if we want a speed of 0.1s per character.",3,null),n(t,{language:"html",text:`<animate
  id="first"
  begin="0s"
  dur="1.9s"
  from="m15,25 h0"
  to="m15,25 h186"
/>

<animate
  id="second"
  begin="first.end+0.1s"
  dur="2.4s"
  from="m15,50 h0"
  to="m15,50 h235"
/>`,[e]:{language:e,text:e}},3,"AC_7"),l("p",null,null,"To create an effect of erasing the text we can add another animate with the from and to attribute values flipped.",3,null),n(t,{language:"html",text:`<animate id="line1" begin="0s" dur="1.25s"
  from="m15,25 h0" to="m15,25 h186" />
<animate id="line1reverse" begin="line2reverse.end" dur="0.25s"
  to="m15,25 h0" from="m15,25 h186" />
  
<animate id="line2" begin="line1.end+0.1s" dur="1.6s"
  from="m15,50 h0" to="m15,50 h235" />
<animate id="line2reverse" begin="line2.end+0.5s" dur="0.32s"
  to="m15,50 h0" from="m15,50 h235" />
  `,[e]:{language:e,text:e}},3,"AC_8"),l("p",null,null,l("svg",{style:{cursor:"pointer"}},{xmlns:"http://www.w3.org/2000/svg",version:"1.1",height:"60px",width:"300px"},[l("rect",null,{id:"startanim90",height:"60px",width:"100%",fill:"var(--secondary-background-color, #eaeaea)",rx:"6",ry:"6"},null,3,null),l("path",null,{id:"example90-line1"},[l("animate",null,{id:"example90line1anim",fill:"freeze",attributeName:"d",from:"m15,25 h0",to:"m15,25 h186",dur:"1.25s",begin:"startanim90.click"},null,3,null),l("animate",null,{id:"example90line1animrev",fill:"freeze",attributeName:"d",to:"m15,25 h0",from:"m15,25 h186",dur:"0.25s",begin:"example90line2animrev.end"},null,3,null)],3,null),l("text",null,{"font-size":"16","font-family":"monospace",fill:"var(--primary-text-color, #333)"},l("textPath",null,{"xlink:href":"#example90-line1"},["<",l("tspan",null,{fill:"red"},"h1",3,null),">Short line</",l("tspan",null,{fill:"red"},"h1",3,null),">"],3,null),3,null),l("path",null,{id:"example90-line2"},[l("animate",null,{id:"example90line2anim",fill:"freeze",attributeName:"d",from:"m15,50 h0",to:"m15,50 h235",dur:"1.6s",begin:"example90line1anim.end+0.1s"},null,3,null),l("animate",null,{id:"example90line2animrev",fill:"freeze",attributeName:"d",to:"m15,50 h0",from:"m15,50 h235",dur:"0.32s",begin:"example90line2anim.end+0.5s"},null,3,null)],3,null),l("text",null,{"font-size":"16","font-family":"monospace",fill:"var(--primary-text-color, #333)"},l("textPath",null,{"xlink:href":"#example90-line2"},["<",l("tspan",null,{fill:"red"},"h2",3,null),">The second line</",l("tspan",null,{fill:"red"},"h2",3,null),">"],3,null),3,null)],3,null),1,null),l("p",null,null,["If you want to loop animations, there is a better way than the repeatCount attribute. You can simply use two begin values for the first animate like this ",l("span",null,{class:"inline-code"},'begin="0s;lastid.end"',3,null),". Then just make sure your animations make a closed loop with referencing each other in begin attributes."],3,null),l("p",null,null,["In preparation of adding more lines let's add some common styles in a <style> element. I really wanted to use"," ",l("span",null,{class:"inline-code"},"var(--css-variables)",3,null)," as the colors from Github. Unfortunately Github adds SVGs in image tags, which do not have access to the css variables of the parent document. This makes it impossible to always match 1 to 1 with the theme Github is using. We can still try to respect the users choice of a theme by adding a media query."],3,null),n(t,{language:"html",text:`<style>
  rect { fill: #161b22 }
  text { fill: #c9d1d9 }
  .el { fill: #7ee787 }
  .attr { fill: #79c0ff }
  .val { fill: #a5d6ff }
  @media (prefers-color-scheme:light) {
    rect { fill: #f6f8fa }
    text { fill: #24292f }
    .el { fill: #116329 }
    .attr { fill: #0550ae }
    .val { fill: #0a3069 }
  }
</style>`,[e]:{language:e,text:e}},3,"AC_9"),l("p",null,null,"Combining all the things we have learned so far with some tweaking we might end up with something like this.",3,null),l("img",{style:{margin:0}},{id:"result",alt:"",src:"/images/source_not_full_width_dark.svg"},null,3,null),l("p",null,null,"Looks pretty good!",3,null),l("p",null,null,"Let's put it to Github. You can create the SVG wrapped in a link in markdown like this.",3,null),n(t,{language:"text",text:"[![](https://example.com/animation.svg)](https://jonniek.github.io/)",[e]:{language:e,text:e}},3,"AC_10"),l("p",null,null,"You can also use HTML syntax. This way the height and width attributes can be set, which can prove quite handy in controlling the result.",3,null),n(t,{language:"markdown",text:`<a href="https://jonniek.github.io/">
  <img height="190px" width="100%" src="https://example.com/animation.svg">
</a>`,[e]:{language:e,text:e}},3,"AC_11"),l("p",null,null,"I want it to look as close to possible to a real code block in Github. To see what it should look liked we can edit a README in Github, add the target HTML in a code block and preview it.",3,null),l("img",null,{alt:"",src:"/images/github_source.png"},null,3,null),l("ul",null,null,[l("li",null,null,"The height should be a constant 190px",3,null),l("li",null,null,"The padding is 16px in both x and y axis",3,null),l("li",null,null,"Each line is 16.5px tall",3,null),l("li",null,null,"The width of the background is 100% of the parent container",3,null),l("li",null,null,"Every corner of the background is rounded",3,null)],3,null),l("p",null,null,"I was having a lot of trouble trying to make this render exactly like above in Github. But the reason was that I am using Firefox. On Firefox it seems impossible to satisfy all the above requirements. I tried every combination of viewBox, preserveAspectRatio and nested SVGs I could think of. Always one of the following happened.",3,null),l("ul",null,null,[l("li",null,null,"Height is too low leading to tiny text",3,null),l("li",null,null,"Text is squished horizontally",3,null),l("li",null,null,"Right side background borders are not rounded",3,null)],3,null),l("p",null,null,"If you open the SVG itself on Firefox it will render correctly, but somehow when used in an img tag it renders in a different way. I think it might be some bug in Firefox SVG rendering.",3,null),l("p",null,null,"I really like Firefox. But I don't like it so much that I would give up my quest of imitating a Github code block pixel perfectly. So for now the Firefox rendering will be broken and show text sizes for ants.",3,null),l("p",null,null,["If you want to try fixing it for Firefox go ahead and fork"," ",l("a",null,{rel:"noopener",href:"https://github.com/jonniek/jonniek"},"my repository",3,null),". Serve the directory with"," ",l("span",null,{class:"inline-code"},"python3 -m http.server",3,null)," and open the index on Firefox. The limitations are that you can only set the width, height and src attributes from the HTML. Everything else has to be done from the SVG file. Wanted behaviour on all major browsers would be the following."],3,null),l("ul",null,null,[l("li",null,null,"Text never scales or stretches and is always aligned to the left side",3,null),l("li",null,null,"Background always grows to 100% width of container and every corner is rounded",3,null),l("li",null,null,"Height of the SVG stays at a constant 190px on all viewport sizes",3,null)],3,null),l("p",null,null,"If you figure it out, please open a pull request!",3,null),l("p",null,null,"Here is a picture of the final result in my profile.",3,null),l("img",null,{alt:"",src:"/images/github_profile.png"},null,3,null),l("p",null,null,"I hope you found some inspiration from this. Here is some ideas to take this further.",3,null),l("ul",null,null,[l("li",null,null,"IDE-like autocomplete of HTML elements. This should be possible by animating the visibility, x and y attributes.",3,null),l("li",null,null,["Some crazy visual effect. Try for example adding"," ",l("span",null,{class:"text-button",onClick$:o(()=>r(()=>Promise.resolve().then(()=>p),void 0),"s_LURM8kCJOIg",[a])},"another start point",3,null)," ","in the animation."],3,null)],3,null),l("p",null,null,a.showExample&&l("img",{style:{margin:0}},{alt:"",src:"/images/source_not_full_width_alt.svg"},null,3,"AC_12"),1,null)],1,"AC_13")},p=Object.freeze(Object.defineProperty({__proto__:null,s_DMZZFJcVXMQ:d,s_LURM8kCJOIg:m},Symbol.toStringTag,{value:"Module"}));export{d as s_DMZZFJcVXMQ,m as s_LURM8kCJOIg};
